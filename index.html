<!DOCTYPE html>
<html class="vs-index" lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="webroot/frags/layout/head.htm :: header">
<script src="/dist/js/lib/jquery.min.js"></script>
<script src="/dist/js/lib/thymus.min.js" id="thymus"
	data-thx-base-path="." data-thx-frag-extension=".htm"
	data-thx-head-frag="th:include=webroot/frags/layout/head.htm :: header"
	data-thx-preload-js="/dist/js/loader.js"
	data-thx-onfrags="fragsListener();" data-thx-onfrag="fragListener()"></script>
</head>
<body>
<div id="portal" class="wrapper" v-bind:class="pageClass">
	<div th:replace="webroot/frags/layout/navs.htm :: navs"></div>
	<main class="page-wrapper">
	<index inline-template ref="refPage" v-on:set-state="setState" v-on:set-page="setPage" v-bind:root-state="rootState" v-if="!$root.isLoading">
		<section class="xxx" v-if="!isLoading">
			<transition name="fade">
			<div th:replace="webroot/frags/api/api-preview.htm :: apiPreview"></div>
			</transition>
			<transition name="fade">
			<div th:replace="webroot/frags/api/app-preview.htm :: appPreview"></div>
			</transition>
			<div class="fow cards justify-content-center">
				<div class="fol-sm-6 fol-lg-3 fol-xll-3 p-3 card-item">
					<div class="card">
						<div class="card-scroll">
							<div class="nicescroll-bar">
								<div class="bg-pink txt-white txt-c p-3 justify-content-center">
									My<br>Subscribers
									<h1 class="mb-0 mt-2">{{mySubscribers}}</h1>
								</div>
								<div class="bg-cyan txt-white txt-c p-3 justify-content-center">
									My<br>Subscriptions
									<h1 class="mb-0 mt-2">{{mySubscriptions}}</h1>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="fol-sm-6 fol-lg-3 fol-xll-3 p-3 card-item">
					<div class="card">
						<div class="card-title"><h6>My APPS</h6></div>
						<div class="card-scroll">
							<div class="nicescroll-bar">
								<div v-for="(app, index) in sortByNested(sortApp, $root.appList)" v-if="app.subscriptions" class="brd-b brd-0-last field-controls">
									<a class="nav-link d-block" v-on:click="getMyAppDetail(app,index,true);" :class="{'is-deleted': app.isdeleted}">
										<div class="">										
											<i class="fas fa-check-circle txt-green" title="Active" v-if="!app.isdeleted"></i>
											<i class="fas fa-times-circle txt-red" title="Deleted" v-if="app.isdeleted"></i>
											<strong>{{app.firstname}}</strong>
										</div>
										<div>
											<div class="d-flex txt-uppercase flt-r small txt-muted">
												<span v-if="!app.isdeleted" :title="app.updated | formatDateTime">
													{{app.created | formatDateTime}}
												</span>
												<span class="ml-auto txt-r" v-if="app.isdeleted">
													{{app.deleted | formatDateTime}}
												</span>
											</div>
										</div>
										<div v-if="app.contracts"><small class="txt-uppercase">Subscriptions:</small> <strong class="txt-black">{{app.contracts.length}}</strong></div>
										<code class="d-block txt-line small txt-blue"><small>{{app.uuid}}</small></code>
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="fol-sm-6 fol-lg-3 fol-xll-3 p-3 card-item">
					<div class="card">
						<div class="card-title"><h6>My Proxy APIs</h6></div>
						<div class="card-scroll">
							<div class="nicescroll-bar">
								<api-list v-for="(api, index) in sortByNested(sortProxy, myProxyApiList)" :api="api" :index="index" :key="api.uuid" inline-template>
									<div th:replace="webroot/frags/api/api-preview.htm :: apiDash"></div>
								</api-list>
							</div>
						</div>
					</div>
				</div>
				<div class="fol-sm-6 fol-lg-3 fol-xll-3 p-3 card-item">
					<div class="card">
						<div class="card-title"><h6>My Business APIs</h6></div>
						<div class="card-scroll">
							<div class="nicescroll-bar">
								<api-list v-for="(api, index) in sortByNested(sortApi, myBusinessApiList)" :api="api" :index="index" :key="api.uuid" v-if="api.proxies.length > 0" inline-template>
									<div th:replace="webroot/frags/api/api-preview.htm :: apiDash"></div>
								</api-list>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</index>
	</main>
</div>
<script id="reqVue" data-module="index" data-main="/dist/js/main" src="/dist/js/lib/require.min.js"></script>
</body>
</html>