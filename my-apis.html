<!DOCTYPE html>
<html class="vs-my-apis" lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="webroot/frags/layout/head.htm :: header">
<link href="/dist/css/obsidian.css" rel="stylesheet">
<link href="/dist/css/jsoneditor.min.css" rel="stylesheet" type="text/css">
</head>
<body>
<div id="portal" class="wrapper" v-bind:class="pageClass">
	<div th:replace="webroot/frags/layout/navs.htm :: navs"></div>
	<main class="page-wrapper">
	<my-apis inline-template ref="refMyApis" v-on:set-page="setPage" v-bind:root-state="rootState" v-if="!$root.isLoading">
		<div class="columns tab-content">
			<aside class="column column-aside list-column xxx">
				<div class="clearfix column-header column-min-button">
					<div class="dropdown column-header-button">
						<button type="button" class="dropdown-toggle btn btn-lg btn-link txt-link btn-square" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
						<ul class="dropdown-menu dropdown-menu-right" role="menu">
							<li><a href="#" v-on:click="sortList(sortApi, 'openapidocument.info.title', String)"><i class="fas fa-sort"></i>Sort by Name</a></li>
							<li><a href="#" v-on:click="sortList(sortApi, 'created', Date);"><i class="fas fa-calendar-alt"></i>Sort by Date</a></li>
							<li><a href="#" v-on:click="sortList(sortApi, 'proxies', Array)"><i class="fas fa-code-branch"></i>Sort by Proxies</a></li>
						</ul>
					</div>
					<h5 class="column-header-title">My APIs <small>All</small></h5>
				</div>
				<div class="column-content">
					<div class="nicescroll-bar">
						<v-select label="name" :filterable="true" :options="businessApiOptions" @search="getBusinessApiOptions" :on-change="filterApi" placeholder="Search API">
							<span slot="no-options"></span>
							<template slot="option" slot-scope="option">
								<div>{{ option.openapidocument.info.title }} <small class="text-muted">{{ option.openapidocument.info.version }}</small></div>
							</template>
							<template slot="selected-option" slot-scope="option">
								<div>{{ option.openapidocument.info.title }} <small class="text-muted">{{ option.openapidocument.info.version }}</small></div>
							</template>
						</v-select>
						<ul class="nav flex-column nav-controls nav-controls-first column-space">
							<my-api-list v-for="(a, index) in sortByNested(sortApi, myApiList)" :api="a" :apilist="myApiList" :openapi="openapi" :lindex="index" :key="a.uuid"></my-api-list>
						</ul>
					</div>
				</div>
			</aside>
			<aside class="column column-aside list-column xxx">
				<div class="clearfix column-header column-min-button">
					<div class="dropdown column-header-button">
						<button type="button" class="dropdown-toggle btn btn-lg btn-link txt-link btn-square" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
						<ul class="dropdown-menu dropdown-menu-right" role="menu">
							<li><a href="#" v-on:click="sortList(sortApi, 'openapidocument.info.title', String)"><i class="fas fa-sort"></i>Sort by Name</a></li>
							<li><a href="#" v-on:click="sortList(sortApi, 'created', Date);"><i class="fas fa-calendar-alt"></i>Sort by Date</a></li>
						</ul>
					</div>
					<h5 class="column-header-title">My Proxies <small>All</small></h5>
				</div>
				<div class="column-content">
					<div class="nicescroll-bar">
						<!-- 2DO -->
						<v-select label="name" :filterable="true" :options="proxyApiOptions" @search="getProxyApiOptions" :on-change="filterApi" placeholder="Search Proxies">
							<span slot="no-options"></span>
							<template slot="option" slot-scope="option">
								<div>{{ option.openapidocument.info.title }} <small class="text-muted">{{ option.openapidocument.info.version }}</small></div>
							</template>
							<template slot="selected-option" slot-scope="option">
								<div>{{ option.openapidocument.info.title }} <small class="text-muted">{{ option.openapidocument.info.version }}</small></div>
							</template>
						</v-select>
						<ul class="nav flex-column nav-controls nav-controls-first column-space">
							<my-api-list v-for="(a, index) in sortByNested(sortApi, myProxyList)" :api="a" :apilist="myApiList" :openapi="openapi" :lindex="index" :key="a.uuid"></my-api-list>
						</ul>
					</div>
				</div>
			</aside>
			<aside class="column column-aside create-column">
				<div class="clearfix brd-b column-header column-min-button">
					<h5 class="column-header-title">Information</h5>
				</div>
				<div class="column-content">
					<form class="nicescroll-bar" id="frmHeader">
						<article class="field-controls field-level-0" data-id="Info" v-show="api.specs != 'scratch' && rootState == 'create'">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#upload" aria-controls="upload" aria-expanded="false">
								<h6><i class="fa fa-fw fa-upload"></i> Upload API <small>{{api.specs}}</small></h6>
							</a>
							<div id="upload" class="collapse field-color-grey field-level-1">
								<div id="specsFrom" class="field-acc" v-show="rootState == 'create' && api.specs != 'scratch'">
									<div class="form-group">
										<span class="radio radio-primary d-inline-block mr-3">
											<input type="radio" name="specsUpload" id="specsUrl" class="js-switchclass" data-all=".specs-uploads" data-target="#specsFromUrl" data-class="show" checked>
											<label for="specsUrl">From URL</label>
										</span>
										<span class="radio radio-primary d-inline-block">
											<input type="radio" name="specsUpload" id="specsFile" class="js-switchclass" data-all=".specs-uploads" data-target="#specsFromFile" data-class="show">
											<label for="specsFile">From File</label>
										</span>
									</div>
									<div id="specsFromUrl" class="specs-uploads hide show">
										<div class="form-group">
											<label for="specsFileUrl">URL:</label>
											<input type="text" name="specsFileUrl" id="specsFileUrl" class="form-control" v-on:change="loadFromUrlSchema($event.target.value)">
										</div>
									</div>
									<div id="specsFromFile" class="specs-uploads hide dz-single">
										<div class="form-group">
											<vue-dropzone ref="dropSpecs" id="dropSpecs" :options="dropSpecsOptions" v-on:vdropzone-success="dropSpecsSuccess" v-on:vdropzone-removed-file="dropSpecsRemoved"></vue-dropzone>
										</div>
									</div>
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="Servers">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#servers" aria-controls="servers" aria-expanded="false">
									<h6><i class="fa fa-fw fa-server"></i> Servers</h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="openapi.servers.length == 0">
									<a href="#" title="Add a server" v-on:click="addServer()"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="servers" class="collapse">
								<api-servers v-for="(server,sindex) in openapi.servers" :server="server" :sindex="sindex" :key="sindex" inline-template>
									<div class="field-controls field-color-grey field-level-1">
										<div class="field-sum">
											<a href="#" class="field-link nav-caret" data-toggle="collapse" v-bind:data-target="'#server'+sindex" v-bind:aria-controls="'server'+sindex">
												<!-- <span>{{server.url}}</span> -->
												<small class="d-block text-muted" v-if="$parent.api.isproxyapi">{{xServerUrl}}</small>
												<strong class="d-block text-truncate">{{serverUrl}}</strong>
											</a>
										</div>
										<div class="ficon-actions dropdown dropdown-hover">
											<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
											<ul class="dropdown-menu dropdown-menu-right" role="menu">
												<li><a class="" title="Remove server" v-on:click="removeServer(sindex)" v-if="sindex > 0"><i class="fa fa-trash-alt"></i> Remove server</a></li>
												<!-- <li><a href="#" title="Show Variables" data-toggle="collapse" v-bind:data-target="'#server'+sindex" v-bind:aria-controls="'server'+sindex"><i class="">V</i> Show Variables</a></li> -->
												<li><a href="#" title="Add Variable" v-on:click="addVariable(sindex)"><i class="">V</i> Add Variable</a></li>
												<li><a title="Add a server" v-on:click="addServer()"><i class="fa fa-plus"></i> Add a server</a></li>
											</ul>
										</div>
										<div v-bind:id="'server'+sindex" class="collapse field-acc">
											<div class="form-group" v-bind:class="{'has-error': errors.has('server'+sindex) }">
												<label>URL</label>
												<input class="form-control" placeholder="Required" v-model.lazy="serverUrl" :name="'server'+sindex" v-validate="'required'">
											</div>
											<div class="form-group">
												<label>Description</label>
												<input class="form-control" v-model.lazy="server.description">
											</div>
											<api-srvvar v-for="(variable,index) in server.variables" :name="index" :key="index" :variable="variable" :server="server" :sindex="sindex" inline-template>
												<div class="position-relative row mt-3">
													<div class="ficon-actions dropdown dropdown-hover">
														<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
														<ul class="dropdown-menu dropdown-menu-right" role="menu">
															<li><a title="Remove variable" v-on:click="removeVariable(sindex)"><i class="fa fa-trash-alt"></i> Remove Variable</a></li>
															<li><a v-on:click="addVEnum()" v-if="server.variables"><i class="fa fa-fw fa-plus"></i> Add Enum Value</a></li>
														</ul>
													</div>
													<div class="field-acc">
														<div class="form-group">
															<label>Variable Name</label>
															<input class="form-control" v-model.lazy="variableName">
														</div>
														<div class="form-group">
															<label>Description</label>
															<input class="form-control" v-model.lazy="variable.description">
														</div>
														<div class="form-group mb-0">
															<label>Default</label>
															<input class="form-control" placeholder="Required" v-model.lazy="variable.default">
														</div>
													</div>
													<api-venum v-for="(evalue,eindex) in variable.enum" :variable="variable" :eindex="eindex" :key="eindex" inline-template>
														<div class="field-acc">
															<div class="ficon-actions dropdown dropdown-hover">
																<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
																<ul class="dropdown-menu dropdown-menu-right" role="menu">
																	<li><a title="Add Enum value" v-on:click="addVEnum(variable)"><i class="fa fa-plus"></i> Add Enum value</a></li>
																	<li><a title="Remove Enum value" v-on:click="removeVEnum(eindex)"><i class="fa fa-trash-alt"></i> Remove Enum value</a></li>
																</ul>
															</div>
															<div class="form-group">
																<label>Enum Value</label>
																<input class="form-control" v-model.lazy="vename">
															</div>
														</div>
													</api-venum>
												</div>
											</api-srvvar>
										</div>
									</div>
								</api-servers>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="Info">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#info" aria-controls="info">
								<h6><i class="fa fa-fw fa-info"></i> Info</h6>
							</a>
							<div id="info" class="collapse field-controls field-color-grey field-level-1">
								<div class="field-acc brd-b-0">
									<div class="form-group" v-bind:class="{'has-error': errors.has('infoTitle') }">
										<label>Title</label>
										<input class="form-control" placeholder="Required" v-model.lazy="openapi.info.title" v-validate="'required'" name="infoTitle">
									</div>
									<div class="form-group" v-bind:class="{'has-error': errors.has('infoVersion') }">
										<label>Version</label>
										<input class="form-control" placeholder="Required" v-model.lazy="openapi.info.version" v-validate="'required'" name="infoVersion">
									</div>
									<div class="form-group mb-0">
										<label>Description</label>
										<a class="float-right" title="Preview markdown" v-on:click="markdownPreview('#txtDescription')"><i class="fa fa-check-circle"></i></a>
										<textarea class="form-control" id="txtDescription" v-model.lazy="openapi.info.description"></textarea>
									</div>
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#infoContact" aria-controls="infoContact">
								<h6 class="d-block"><i class="fa fa-fw fa-address-card"></i> Contact</h6>
							</a>
							<div id="infoContact" class="collapse field-acc field-controls field-color-grey field-level-1">
								<div class="form-group">
									<label>Contact Name</label>
									<input class="form-control" v-model.lazy="openapi.info.contact.name">
								</div>
								<div class="form-group">
									<label>Contact Email</label>
									<input class="form-control" type="email" v-model.lazy="openapi.info.contact.email">
								</div>
								<div class="form-group">
									<label>Contact URL</label>
									<input type="url" class="form-control" v-model.lazy="openapi.info.contact.url">
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#infoTermsLicence" aria-controls="infoTermsLicence">
								<h6 class="d-block"><i class="fa fa-fw fa-check-circle"></i> Terms & Licence</h6>
							</a>
							<div id="infoTermsLicence" class="collapse field-acc field-controls field-color-grey field-level-1">
								<div class="form-group">
									<label>Terms of Service URL</label>
									<input type="url" class="form-control" v-model.lazy="openapi.info.termsOfService">
								</div>
								<div class="form-group">
									<label>License Name </label>
									<div class="ficon-actions dropdown dropdown--hover">
										<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
										<ul class="dropdown-menu dropdown-menu-right" role="menu" data-dropdown-in="slideInRight" data-dropdown-out="slideOutRight">
											<li v-for="(lic, index) in licenseOptions"><a href="#" v-on:click="licenseFromList(lic)"><strong>{{lic.name}}</strong><small class="d-block txt-break">{{lic.url}}</small></a></li>
										</ul>
									</div>
									<!-- <v-select label="name" taggable :filterable="false" :options="licenseOptions" v-model="openapi.info.license.name" :on-change="licenseToList">
										<span slot="no-options"></span>
									</v-select> -->
									<input type="url" id="nameLicense" class="form-control" v-model.lazy="openapi.info.license.name">
								</div>
								<div class="form-group">
									<label>License URL</label>
									<input type="url" id="urlLicense" class="form-control" v-model.lazy="openapi.info.license.url">
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="Documentation">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#infoDocumentation" aria-controls="infoDocumentation">
								<h6 class="d-block"><i class="fa fa-fw fa-file-alt"></i> Documentation</h6>
							</a>
							<div id="infoDocumentation" class="collapse field-acc field-controls field-color-grey field-level-1">
								<div class="form-group">
									<label>External Docs</label>
									<a class="float-right" v-on:click="markdownPreview('#txtExtDocDesc')" title="Preview markdown"><i class="fa fa-check-circle"></i></a>
									<textarea class="form-control" id="txtExtDocDesc" v-model.lazy="openapi.externalDocs.description"></textarea>
								</div>
								<div class="form-group">
									<label>Documentation URL</label>
									<input type="url" class="form-control" v-model.lazy="openapi.externalDocs.url">
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="Advanced">
							<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#customizations" aria-controls="customizations">
								<h6 class="d-block"><i class="icon-verapi txt-primary"></i> Portal Specific</h6>
							</a>
							<div id="customizations" class="collapse field-acc field-controls field-color-grey field-level-1">
								<div class="form-group dz-single">
									<label for="group">Add Picture:</label>
									<div id="appcolor" :style="{ 'background-color': api.color }">
										<vue-dropzone ref="dropImage" id="dropImage" :options="dropImageOptions" v-on:vdropzone-success="dropImageSuccess"></vue-dropzone>
									</div>
								</div>
								<div class="form-group">
									<label>Color {{api.color}}</label>
									<div class="input-group api-color" data-format="hex" data-targetbg="#appcolor"><input type="text" class="form-control" v-model.lazy="api.color"><span class="input-group-addon"><i></i></span></div>
								</div>
								<div class="form-group v-select-color-green v-select-inline" v-if="rootState == 'edit'">
									<label for="categories">Add to Categories:</label>
									<v-select label="name" multiple :filterable="true" :options="categoryOptions" @search="getCategoryOptions" v-model="api.categories"></v-select>
								</div>
								<div class="form-group v-select-color-purple v-select-inline" v-if="rootState == 'edit'">
									<label for="tags">Add Tags:</label>
									<v-select label="name" multiple taggable :filterable="false" :options="tagOptions" @search="getTagOptions" v-model="api.tags"></v-select>
								</div>
								<div class="form-group v-select-color-pink v-select-inline" v-if="rootState == 'edit'">
									<label for="group">Add Group:</label>
									<v-select label="name" multiple :filterable="false" :options="$root.rootData.myApiGroupList"  v-model="api.groups" ref="refApiGroups"></v-select>
								</div>
							</div>
						</article>
					</form>
				</div>
			</aside>
			<aside class="column column-aside edit-column components-column column-minimize">
				<div class="clearfix column-header column-min-button">
					<h5 class="column-header-title">Tags & Components</h5>
				</div>
				<div class="column-content">
					<form class="nicescroll-bar" id="frmSchemas">
						<article class="field-controls field-level-0" data-id="Tags">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#tags" aria-controls="tags">
									<h6 class="d-block"><i class="fa fa-fw fa-tags"></i> Tags <span class="badge badge-pill badge-outline float-right" v-if="openapi.tags.length > 0">{{openapi.tags.length}}</span></h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="openapi.tags.length == 0">
									<a href="#" title="Add Tag" v-on:click="addTag()"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="tags" class="collapse field-tabs">
								<div v-for="(t,index) in openapi.tags" class="field-controls field-color-grey field-level-1">
									<div class="field-sum">
										<a href="#" class="field-link nav-caret" data-toggle="collapse" v-bind:data-target="'#t'+index" v-bind:aria-controls="'t'+index">
											<strong class="font-weight-bold">{{t.name}}</strong>
										</a>
										<div class="ficon-actions dropdown dropdown-hover">
											<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
											<ul class="dropdown-menu dropdown-menu-right" role="menu">
												<li><a href="#" title="Add Tag" v-on:click="addTag()"><i class="fas fa-lg fa-plus"></i> Add Tag</a></li>
												<li><a title="Remove tag" v-on:click="removeTag(index)"><i class="fa fa-trash-alt"></i> Remove tag</a></li>
											</ul>
										</div>
									</div>
									<div v-bind:id="'t'+index" class="collapse field-acc">
										<div class="form-group">
											<label>Name</label>
											<input class="form-control" placeholder="Required" v-model.lazy="t.name">
										</div>
										<div class="form-group">
											<label>Description</label>
											<textarea class="form-control" v-model.lazy="t.description"></textarea>
										</div>
										<div class="form-group">
											<label>External Docs</label>
											<textarea class="form-control" v-model.lazy="t.externalDocs.description"></textarea>
										</div>
										<div class="form-group">
											<label>Docs URL</label>
											<input type="url" class="form-control" v-model.lazy="t.externalDocs.url">
										</div>
									</div>
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="securitySchemes">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#securitySchemes" aria-controls="securitySchemes">
									<h6 class="d-block"><i class="fa fa-fw fa-lock"></i> Security Schemes <span class="badge badge-pill badge-outline float-right" v-if="getObjCount(openapi.components.securitySchemes) > 0">{{getObjCount(openapi.components.securitySchemes)}}</span></h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="getObjCount(openapi.components.securitySchemes) < 1">
									<a href="#" title="Add Security Scheme" v-on:click="addSecurityDefinition('newSecurityScheme')"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="securitySchemes" class="collapse">
								<api-secdef v-for="(sd, sdname, index) in openapi.components.securitySchemes" :key="sdname" :sd="sd" :sdname="sdname" :openapi="openapi" :index="index" inline-template>
									<div class="field-controls field-color-grey field-level-1">
										<div class="field-sum">
											<a href="#" class="field-link nav-caret" data-toggle="collapse" v-bind:data-target="'#sd'+index" v-bind:aria-controls="'sd'+index">
												<strong class="font-weight-bold">{{sdname}}</strong>
												<ul class="mb-0">
													<li v-for="(flow,flowName) in sd.flows">
														<ul class="mb-0 small">
															<li v-for="(sdesc, sname) in flow.scopes">{{flowName}} <small>{{sname}}</small></li>
														</ul>
													</li>
												</ul>
											</a>
											<div class="ficon-actions dropdown dropdown-hover">
												<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
												<ul class="dropdown-menu dropdown-menu-right" role="menu">
													<li><a title="Add securityScheme" v-on:click="addSecurityDefinition('newSecurityScheme')"><i class="fa fa-plus"></i> Add securityScheme</a></li>
													<li><a title="Add bearerAuth" v-on:click="addSecurityDefinition('bearerAuth')"><i class="fa fa-plus"></i> Add bearerAuth</a></li>
													<li><a title="Add basicAuth" v-on:click="addSecurityDefinition('basicAuth')"><i class="fa fa-plus"></i> Add basicAuth</a></li>
													<li><a title="Add abyssCookieAuth" v-on:click="addSecurityDefinition('abyssCookieAuth')"><i class="fa fa-plus"></i> Add abyssCookieAuth</a></li>
													<li><a title="Add abyssHttpBasicAuth" v-on:click="addSecurityDefinition('abyssHttpBasicAuth')"><i class="fa fa-plus"></i> Add abyssHttpBasicAuth</a></li>
													<li><a title="Add abyssApiKeyAuth" v-on:click="addSecurityDefinition('abyssApiKeyAuth')"><i class="fa fa-plus"></i> Add abyssApiKeyAuth</a></li>
													<li><a title="Add abyssAppKeyAuth" v-on:click="addSecurityDefinition('abyssAppKeyAuth')"><i class="fa fa-plus"></i> Add abyssAppKeyAuth</a></li>
													<li><a title="Add abyssAppKeyCookieAuth" v-on:click="addSecurityDefinition('abyssAppKeyCookieAuth')"><i class="fa fa-plus"></i> Add abyssAppKeyCookieAuth</a></li>
													<li><a title="Add abyssJWTBearerAuth" v-on:click="addSecurityDefinition('abyssJWTBearerAuth')"><i class="fa fa-plus"></i> Add abyssJWTBearerAuth</a></li>
													<li><a title="Remove securityScheme" v-on:click="removeSecurityDefinition(sdname)"><i class="fa fa-trash-alt"></i> Remove securityScheme</a></li>
												</ul>
											</div>
										</div>
										<div v-bind:id="'sd'+index" class="collapse field-acc">
											<div class="form-group">
												<label>Name</label>
												<input class="form-control" v-model.lazy="secname">
											</div>
											<div class="fow form-row">
												<div class="fol-8 form-group">
													<label for="selSdType">Type</label>
													<select class="form-control" name="selSdType" v-model="type">
														<option value="apiKey">API Key</option>
														<option value="oauth2">oAuth2</option>
														<option value="http">HTTP Authentication</option>
														<option value="openIdConnect">OpenIdConnect</option>
													</select>
												</div>
												<div class="fol-4 form-group text-right">
													<label class="d-block txt-line mb-0">Apply to all paths</label>
													<span class="switch switch-primary ml-auto">
														<input type="checkbox" :id="'applyAllPaths'+index" :value="sdname" v-model="appliesToAllPaths">
														<label :for="'applyAllPaths'+index"></label>
													</span>
												</div>
											</div>
											<div class="form-group" v-if="sd.type == 'http'">
												<label>Scheme</label>
												<input class="form-control" placeholder="Required" v-model.lazy="sd.scheme">
											</div>
											<div class="form-group" v-if="sd.scheme == 'bearer'">
												<label>BearerFormat</label>
												<input class="form-control" v-model.lazy="sd.bearerFormat">
											</div>
											<div class="form-group" v-if="sd.scheme == 'basic'">
												<label>Username</label>
												<input class="form-control" v-model.lazy="sd['x-abyss-username']">
											</div>
											<div class="form-group" v-if="sd.scheme == 'basic'">
												<label>Password</label>
												<input class="form-control" v-model.lazy="sd['x-abyss-password']">
											</div>
											<div class="form-group" v-if="sd.type == 'openIdConnect'">
												<label>OpenIdConnect URL</label>
												<input class="form-control" placeholder="Required" v-model.lazy="sd.openIdConnectUrl">
											</div>
											<div v-if="sd.type == 'apiKey'">
												<div class="form-group">
													<label>Location</label>
													<select class="form-control" name="selLocation" v-model="sd.in">
														<option value="header">Header</option>
														<option value="query">Query</option>
														<option value="cookie">Cookie</option>
													</select>
												</div>
												<div class="form-group">
													<label>Parameter Name</label>
													<input class="form-control" v-model.lazy="sd.name">
												</div>
												<div class="form-group">
													<label>Parameter Value</label>
													<input class="form-control" v-model.lazy="sd['x-abyss-apikey']">
												</div>
											</div>
											<div v-if="sd.type == 'oauth2'">
												<div class="fow form-row">
													<div class="form-group fol-6 mb-0">
														<label class="d-block">Implicit</label>
														<span class="switch switch-primary ml-auto">
															<input type="checkbox" :id="'Implicit'+index" v-model="hasImplicit">
															<label :for="'Implicit'+index"></label>
														</span>
													</div>
													<div class="form-group fol-6 text-right">
														<label class="d-block">authorizationCode</label>
														<span class="switch switch-primary ml-auto">
															<input type="checkbox" :id="'authorizationCode'+index" v-model="hasAuthCode">
															<label :for="'authorizationCode'+index"></label>
														</span>
													</div>
													<div class="form-group fol-6 mb-0">
														<label class="d-block">Password</label>
														<span class="switch switch-primary ml-auto">
															<input type="checkbox" :id="'Password'+index" v-model="hasPassword">
															<label :for="'Password'+index"></label>
														</span>
													</div>
													<div class="form-group fol-6 text-right">
														<label class="d-block">clientCredentials</label>
														<span class="switch switch-primary ml-auto">
															<input type="checkbox" :id="'clientCredentials'+index" v-model="hasClientCred">
															<label :for="'clientCredentials'+index"></label>
														</span>
													</div>
												</div>
												<div class="mt-3 brd-l brd-r brd-b">
													<div class="field-controls field-color-grey field-level-2" v-for="(flow,flowName,findex) in sd.flows">
														<div class="field-sum">
															<a href="#" class="field-link nav-caret" data-toggle="collapse" v-bind:data-target="'#flow-'+flowName" v-bind:aria-controls="'flow-'+flowName" aria-expanded="false">
																<strong>{{flowName}}</strong>
															</a>
														</div>
														<div v-bind:id="'flow-'+flowName" class="collapse field-acc">
															<div class="form-group" v-if="flowName == 'implicit' || flowName == 'authorizationCode'">
																<label>Authorization URL</label>
																<input type="url" class="form-control" value="http://www.example.com" v-model.lazy="flow.authorizationUrl">
															</div>
															<div class="form-group" v-if="flowName != 'implicit'">
																<label>Token URL</label>
																<input type="url" class="form-control" v-model.lazy="flow.tokenUrl">
															</div>
															<div class="form-group">
																<label>Refresh URL</label>
																<input type="url" class="form-control" v-model.lazy="flow.refreshUrl">
															</div>
															<div class="form-group" v-if="flowName == 'clientCredentials'">
																<label>Client Id</label>
																<input type="text" class="form-control" v-model.lazy="flow['x-abyss-clientid']">
															</div>
															<div class="form-group" v-if="flowName == 'clientCredentials'">
																<label>Client Secret</label>
																<input type="text" class="form-control" v-model.lazy="flow['x-abyss-clientsecret']">
															</div>
															<div class="form-group" v-if="flowName == 'password'">
																<label>Password</label>
																<input class="form-control" v-model.lazy="flow['x-abyss-password']">
															</div>
															<div v-if="Object.keys(flow.scopes).length==0" class="ficon-act justify-content-end">
																<a v-on:click="addScope(flow)">Create Scope <i class="fa fa-fw fa-plus"></i></a>
															</div>						
															<api-scope v-for="(sdesc, sname, sindex) in flow.scopes" :sd="sd" :sdname="sdname" :sname="sname" :key="sname" :flow="flow" :sindex="sindex" inline-template>
																<div class="position-relative">
																	<span class="ficon-act ficon-act-abs">
																		<a title="Add scope" v-on:click="addScope(flow)"><i class="fa fa-plus"></i></a>
																		<a title="Remove scope" v-on:click="removeScope(flow,sname)"><i class="fa fa-trash-alt"></i></a>
																	</span>
																	<div class="form-group">
																		<label>Scope Name</label>
																		<input class="form-control" v-model.lazy="scopename">
																	</div>
																	<div class="form-group">
																		<label>Description</label>
																		<input class="form-control" v-model.lazy="flow.scopes[sname]">
																	</div>
																</div>
															</api-scope>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</api-secdef>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="Schemas">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#schemas" aria-controls="schemas">
									<h6 class="d-block"><i class="fa fa-fw fa-sitemap"></i> Schemas <span class="badge badge-pill badge-outline float-right" v-if="getObjCount(openapi.components.schemas) > 0">{{getObjCount(openapi.components.schemas)}}</span></h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="getObjCount(openapi.components.schemas) < 1">
									<a href="#" title="Create Schema" v-on:click="addSchema()"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="schemas" class="collapse field-tabs">
								<div v-for="(schema,key,index) in openapi.components.schemas" class="field-controls field-color-grey field-level-1" v-bind:data-schema="'#/components/schemas/'+key">
									<div class="field-sum">
										<a href="#" class="field-link nav-caret" data-toggle="collapse" v-bind:data-target="'#schema'+index" v-bind:aria-controls="'schema'+index">
											<strong class="font-weight-bold">{{key}}
											<small v-for="(prop,pkey) in schema.properties" v-if="(prop.type == 'object') || prop.$ref">
												$ref: {{pkey}}
											</small>
											</strong>
										</a>
										<div class="ficon-actions dropdown dropdown-hover">
											<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
											<ul class="dropdown-menu dropdown-menu-right" role="menu">
												<li><a v-on:click="mixEditSchema(openapi.components.schemas, key, openapi)"><i class="fa fa-fw fa-edit"></i> Edit shared schema</a></li>
												<li><a v-on:click="addSchema()"><i class="fa fa-fw fa-plus"></i> Create schema</a></li>
												<li><a v-on:click="duplicateSchema(key)"><i class="fa fa-fw fa-copy"></i> Duplicate schema</a></li>
												<li><a v-on:click="removeSchema(key)"><i class="fa fa-fw fa-trash-alt"></i> Remove schema</a></li>
											</ul>
										</div>
									</div>
									<div v-bind:id="'schema'+index" class="collapse field-tabs field-acc">
										<div class="form-group">
											<label>Schema Name</label>
											<input class="form-control" placeholder="Required" v-on:focus="storeSchemaName(key)" v-on:change="renameSchema(key)" v-model.lazy="key">
										</div>
										<api-items :openapi="openapi" :child="schema" :name="'schema'+index" :level="1"></api-items>
									</div>
								</div>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="responses">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#responses" aria-controls="responses">
									<h6 class="d-block"><i class="fa fa-fw fa-download"></i> Responses <span class="badge badge-pill badge-outline float-right" v-if="getObjCount(openapi.components.responses) > 0">{{getObjCount(openapi.components.responses)}}</span></h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="getObjCount(openapi.components.responses) < 1">
									<a href="#" title="Add Response" v-on:click="addResponse(openapi.components)"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="responses" class="collapse field-color-grey field-level-1 field-tabs">
								<api-response v-for="(response, status) in openapi.components.responses" :openapi="openapi" :response="response" :key="status" :status="status" :method="openapi.components"></api-response>
							</div>
						</article>
						<article class="field-controls field-level-0" data-id="requestBodies">
							<div class="field-sum">
								<a href="#" class="field-link nav-caret" data-toggle="collapse" data-target="#requestBodies" aria-controls="requestBodies">
									<h6 class="d-block"><i class="fa fa-fw fa-upload"></i> Request Bodies <span class="badge badge-pill badge-outline float-right" v-if="getObjCount(openapi.components.requestBodies) > 0">{{getObjCount(openapi.components.requestBodies)}}</span></h6>
								</a>
								<span class="ficon-act ficon-act-abs" v-if="getObjCount(openapi.components.requestBodies) < 1">
									<a href="#" title="Add request body" v-on:click="addRequestBody(openapi.components.requestBodies)"><i class="fas fa-lg fa-plus"></i></a>
								</span>
							</div>
							<div id="requestBodies" class="collapse field-color-grey field-level-1 field-tabs">
								<api-requestbody v-for="(request, status, index) in openapi.components.requestBodies" :openapi="openapi" :response="request" :key="status" :status="status" :bindex="index" :method="openapi.components.requestBodies">
								</api-requestbody>
							</div>
						</article>
					</form>
				</div>
			</aside>
			<aside class="column column-aside edit-column licences-column column-minimize" v-if="api.isproxyapi">
				<div class="clearfix column-header column-min-button">
					<h5 class="column-header-title">Licenses <span class="badge badge-pill badge-outline float-right">{{myLicenseList.length}}</span></h5>
				</div>
				<div class="column-content">
					<form class="nicescroll-bar" id="config">
						<article v-for="(license, index) in sortBy(sortLicense, myLicenseList)" v-bind:key="license.uuid" class="field-controls field-level-0">
							<div class="field-sum">
								<a href="#" class="field-link" data-toggle="collapse" v-bind:data-target="'#license'+index" v-bind:aria-controls="'license'+index">
									<div class="h6">										
										{{license.name}}
										<small>{{license.version}}</small>
									</div>
									<div>
										<small class="text-uppercase" v-bind:class="{'txt-green': license.licensedocument.info.visibility == 'Public', 'txt-orange': license.licensedocument.info.visibility == 'Private'}">{{license.licensedocument.info.visibility}}</small>
										<div class="d-flex text-uppercase float-right small text-muted">
											<span v-if="!license.isdeleted" :title="license.updated | formatDateTime">
												{{license.created | formatDateTime}}
											</span>
											<span class="ml-auto text-right" v-if="license.isdeleted">
												{{license.deleted | formatDateTime}}
											</span>
										</div>
									</div>
									<div class="">{{license.licensedocument.info.title}}</div>
									<small class="d-block txt-line my-1 text-muted">{{license.licensedocument.info.description}}</small>
									<code class="d-block txt-line small txt-blue"><small>{{license.uuid}}</small></code>
								</a>
								<div class="ficon-actions dropdown dropdown-hover">
									<span class="switch switch-primary">
										<input type="checkbox" :name="'isactive'+index" :id="'isactive'+index" v-model="license.isactive" true-value="true" false-value="false" v-on:change="setLicense(license)">
										<label :for="'isactive'+index"></label>
									</span>
								</div>
							</div>
							<div v-bind:id="'license'+index" class="collapse field-tabs field-level-1">
								<div class="field-header text-body row brd-t-0 brd-b">
									<div class="small">
										<h6 class="field-header text-body row brd-b">SLA</h6>
										<h6 class="mt-2">
											{{license.licensedocument.sla.tierName}}
										</h6>
										<p class="mb-4">
											{{license.licensedocument.sla.description}}
										</p>
										<p class="d-flex text-uppercase">
											<span class="">
												<strong class="lbl">support Hours</strong>
												{{license.licensedocument.sla.supportHours}}
											</span>
											<span class="ml-auto text-right">
												<strong class="lbl">availability</strong>
												{{license.licensedocument.sla.availability}}
											</span>
										</p>
										<p>
											<strong class="lbl">black Out Hours Per Year</strong>
											{{license.licensedocument.sla.blackOutHoursPerYear}}
										</p>
										<p>
											<strong class="lbl">performance</strong>
											{{license.licensedocument.sla.performance}}
										</p>
									</div>
									<div class="small">
										<h6 class="field-header text-body row brd-b">Legal Aggreement</h6>
										<h6 class="mt-2">
											{{license.licensedocument.legal.name}}
										</h6>
										<p class="mb-4">
											{{license.licensedocument.legal.description}}
										</p>
										<p class="d-flex text-uppercase">
											<span class="">
												<strong class="lbl">Agreement Type</strong>
												{{license.licensedocument.legal.agreementType}}
											</span>
											<span class="ml-auto text-right">
												<strong class="lbl">Document State</strong>
												{{license.licensedocument.legal.documentState}}
											</span>
										</p>
										<p v-if="license.licensedocument.legal.link">
											<strong class="lbl">link</strong>
											<span class="d-block text-truncate">
												<a :href="license.licensedocument.legal.link" target="_blank">{{license.licensedocument.legal.link}}</a>
											</span>
										</p>
										<p v-if="license.licensedocument.legal.documentText">
											<strong class="lbl">document Text</strong>
											<span class="d-block text-truncate">
												{{license.licensedocument.legal.documentText}}
											</span>
										</p>
									</div>
									<div class="small">
										<h6 class="field-header text-body row">Policies</h6>
										<div v-for="(pol, index) in license.policies" class="brd-t py-2 row px-3" :title="pol.uuid + ' | ' + pol.description">
											<h6 class="d-block">{{pol.name}}</h6>
											<span class="d-block">{{pol.policyinstance.info.type}} - {{pol.policyinstance.info.subType}}</span>
											<div class="d-flex mt-2 mb-1">
												<span class="badge req-res-sm" v-bind:class="{'badge-cyan': pol.policyinstance.openApiLifeCycle.onBusinessRequest}">
													<small>Business<br>Request</small>
												</span>
												<span class="badge req-res-sm ml-auto" v-bind:class="{'badge-cyan': pol.policyinstance.openApiLifeCycle.onBusinessResponse}">
													<small>Business<br>Response</small>
												</span>
												<span class="badge req-res-sm" v-bind:class="{'badge-purple': pol.policyinstance.openApiLifeCycle.onProxyRequest}">
													<small>Proxy<br>Request</small>
												</span>
												<span class="badge req-res-sm ml-auto" v-bind:class="{'badge-purple': pol.policyinstance.openApiLifeCycle.onProxyResponse}">
													<small>Proxy<br>Response</small>
												</span>
											</div>
										</div>
									</div>
								</div>
							</div>
						</article>
					</form>
				</div>
			</aside>
			<aside class="column column-aside edit-column paths-column column-minimize">
				<div class="clearfix column-header column-min-button">
					<a href="#" class="btn btn-lg btn-link txt-link btn-square column-header-button" title="Create Path" v-on:click="addResource();"><i class="fas fa-lg fa-plus"></i></a>
					<h5 class="column-header-title">Paths <span class="badge badge-pill badge-outline float-right mr-6" v-if="getObjCount(openapi.paths) > 0">{{getObjCount(openapi.paths)}}</span></h5>
				</div>
				<div class="column-content">
					<form class="nicescroll-bar" id="config">
						<!-- <api-resource :openapi="openapi" :path="path" :index="key" :iii="iii" :maintags="openapi.tags" v-for="(path,key,iii) in sortByKeys(openapi.paths)" :key="key" class="field-controls" inline-template> -->
						<api-resource :openapi="openapi" :path="path" :index="key" :iii="iii" :maintags="openapi.tags" v-for="(path,key,iii) in openapi.paths" :key="key" class="field-controls" inline-template>
							<article :id="sanitisePath()" class="field-controls field-level-0">
								<div class="field-sum">
									<a href="#" class="field-link field-link-2 nav-caret" data-toggle="collapse" v-bind:data-target="'#path'+iii" v-bind:aria-controls="'path'+iii">
										<small v-if="!$parent.api.isproxyapi">Path</small>
										<small class="d-block text-muted" v-if="$parent.api.isproxyapi">{{xPathEntry}}</small>
										<h6>{{index}}</h6>
									</a>
									<div class="ficon-actions dropdown dropdown-hover">
										<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
										<ul class="dropdown-menu dropdown-menu-right" role="menu">
											<li v-if="$root.abyssSandbox"><a v-bind:href="$root.abyssEndpoint+index" target="_blank"><i class="fa fa-copy"></i> Open</a></li>
											<li><a v-on:click="duplicateResource(index)"><i class="fa fa-copy"></i> Duplicate path</a></li>
											<li><a v-on:click="removePath(index)"><i class="is-danger fa fa-trash-alt"></i> Remove path</a></li>
										</ul>
									</div>
								</div>
								<div v-bind:id="'path'+iii" class="collapse field-tabs field-acc p-0">
									<div class="px-3">
										<div class="form-group">
											<label>Path:</label>
											<input class="form-control" v-model.lazy="pathEntry">
										</div>
										<div class="form-group">
											<label>Summary</label>
											<input class="form-control" v-model.lazy="path.summary">
										</div>
										<div class="form-group">
											<label>Description</label>
											<textarea class="form-control" v-model.lazy="path.description"></textarea>
										</div>
										<div class="form-group">
											<label>Operations</label>
										</div>
									</div>
									<div v-if="Object.keys(httpMethods).length==0" class="ficon-act justify-content-end">
										<a v-on:click="addOperation()">Add Operation <i class="fa fa-fw fa-plus"></i></a>
									</div>
									<api-method :openapi="openapi" :method="method" :index="key" :maintags="maintags" v-for="(method,key,oindex) in httpMethods" :path="index" :key="oindex"></api-method>
								</div>
							</article>
						</api-resource>
					</form>
				</div>
			</aside>
			<section class="column column-main">
				<div class="choose-spec text-center init-item">
					<h4>Register New API</h4>
					<div class="fow bg-white mb-3">
						<div class="fol-6 choose">
							<input type="radio" name="specs" id="scratch" v-on:click="chooseSpec" v-model="api.specs" value="scratch">
							<label for="scratch"><span><i class="fas fa-code"></i></span>From Scratch</label>
						</div>
						<div class="fol-6 choose">
							<input type="radio" name="specs" id="swagger" v-on:click="chooseSpec" v-model="api.specs" value="swagger">
							<label for="swagger"><span>{...}</span>Swagger</label>
						</div>
						<div class="fol-6 choose">
							<input type="radio" name="specs" id="wsdl" v-on:click="chooseSpec" v-model="api.specs" value="wsdl">
							<label for="wsdl"><span><i class="fas fa-code"></i></span>WSDL</label>
						</div>
						<div class="fol-6 choose">
							<input type="radio" name="specs" id="wadl" v-on:click="chooseSpec" v-model="api.specs" value="wadl">
							<label for="wadl"><span><i class="fas fa-code"></i></span>WADL</label>
						</div>
					</div>
					<!-- <h5>or</h5>
					<button type="button" class="btn btn-lg btn-rounded btn-success">CREATE NEW PROXY</button> -->
				</div>

				<div class="code-editor">
					<div class="clearfix column-header column-min-button">
						<div class="dropdown column-header-button">
							<button type="button" class="dropdown-toggle btn btn-lg btn-link txt-link btn-square" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
							<ul class="dropdown-menu dropdown-menu-right" role="menu">
								<li v-if="outputRendered"><a href="#" id="copy-all"><i class="fa fa-fw fa-copy"></i>Copy</a></li>
								<li v-if="outputRendered"><a href="#" id="download-all"><i class="fa fa-fw fa-download"></i>Download</a></li>
								<li><a href="#" v-on:click="renderOutputAll('yaml');">YAML</a></li>
								<li><a href="#" v-on:click="renderOutputAll('json');">JSON</a></li>
								<li><a href="#" v-on:click="swaggerRendered = false;outputRendered = false;uploadRendered = true"><i class="fa fa-fw fa-upload"></i>Show Hidden</a></li>
								<li><a href="#" v-on:click="swaggerRendered = true;outputRendered = false;uploadRendered = false"><i class="fa fa-fw fa-upload"></i>Show Swagger</a></li>
								<!-- <li><a v-on:click="loadSchema()"><i class="fa fa-fw fa-upload"></i>Load Definition</a></li> -->
								<li><a v-on:click="loadFromUrlSchema('/data/pet3.json')"><i class="fa fa-fw fa-paw"></i>Demo</a></li>
								<li><a v-on:click="clearSchema()"><i class="fa fa-fw fa-trash-alt"></i>Remove All</a></li>
							</ul>
						</div>
						<h5 class="column-header-title">Editor</h5>
					</div>
					<api-output :openapi="openapi" :editor-type="editorType" v-show="outputRendered" inline-template>
					<div class="acedit acedit-single" id="all-output">
						<pre class="prettyprint"><code :id="'pretty-'+editorType">{{openapi}}</code></pre>
					</div>
					</api-output>
					<textarea class="acedit w-50 code" v-show="uploadRendered" v-on:keyup="editingSchema($event.target.value)" v-on:paste="uploadSchema($event.target.value)" v-model="importschema">{{importschema}}</textarea>
					<textarea class="acedit w-50 code" style="left:50%" v-show="uploadRendered" v-model="swaggerText.text">{{swaggerText.text}}</textarea>
					<div id="swagger-editor" v-show="swaggerRendered" class="hidee"></div>
				</div>
			</section>
			<transition name="fade">
				<div th:replace="webroot/frags/api/api-preview.htm :: apiPreview"></div>
			</transition>
			<div class="btn-float-br" v-if="rootState == 'edit' || rootState == 'create'">
				<button type="button" class="btn btn-secondary btn-xl btn-circle" v-on:click="beforeCancelApi()"><i class="fas fa-times"></i></button>
				<button type="button" class="btn btn-secondary btn-xl btn-circle" v-on:click="undoApi()"><i class="fas fa-undo"></i></button>
				<button type="button" class="btn btn-green btn-xl btn-circle" v-if="rootState == 'create'" v-on:click="createApi()"><i class="fas fa-plus"></i></button>
				<button type="button" class="btn btn-red btn-xl btn-circle" v-if="rootState == 'edit' && verChanged" v-on:click="createApi()"><i class="fas fa-plus"></i></button>
				<button type="button" class="btn btn-primary btn-xl btn-circle" v-if="rootState == 'edit' && !verChanged" v-bind:class="{'btn-info': isChanged}" v-on:click="saveMyApi()"><i class="fas fa-save"></i></button>
			</div>
		</div>
	</my-apis>
	</main>
</div>
<!-- TTTTTTTTTTTTTTTTTTTTT -->
<div class="hide">
	<div id="template-method">
		<article class="field-controls field-method" :class="'field-color-'+httpMethod" :data-deprecated="method.deprecated">
			<div class="field-sum">
				<a href="#" class="field-link pb-2" data-toggle="collapse" title="Toggle operation" v-bind:data-target="'#method_main_'+_uid" v-bind:aria-controls="'method_main_'+_uid">
					<strong class="font-weight-bold"><span class="badge badge-method badge-primary text-uppercase">{{httpMethod}}</span> {{path}}</strong>
					<span class="d-block text-right">{{method.operationId}}</span>
					<small :title="method.description" class="d-block font-italic text-right">{{method.summary}}</small>
				</a>
				<div class="ficon-actions dropdown dropdown-hover">
					<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
					<ul class="dropdown-menu dropdown-menu-right" role="menu">
						<li><a v-on:click="addOperation()"><i class="fa fa-fw fa-plus"></i> Add operation</a></li>
						<li><a v-on:click="duplicateOperation(method)"><i class="fa fa-fw fa-copy"></i> Duplicate operation</a></li>
						<li><a v-on:click="removeOperation(index)"><i class="fa fa-fw fa-trash-alt"></i> Remove operation</a></li>
					</ul>
				</div>
				<div class="fow form--row m-0 brd-t text-center field-tabs-btn">
					<a href="#" class="fol-4" data-toggle="collapse" v-bind:data-target="'#method_security_'+_uid" v-bind:aria-controls="'method_security_'+_uid">
						<span class="text-muted small d-block">Security</span>
						<strong class="font-weight-bolder">{{secType}}</strong>
					</a>
					<a href="#" class="fol-4 brd-l brd-r" data-toggle="collapse" v-bind:data-target="'#method_parameters_'+_uid" v-bind:aria-controls="'method_parameters_'+_uid">
						<span class="text-muted small d-block">Parameters</span>
						<strong class="font-weight-bolder" v-if="method.parameters">{{method.parameters.length}}</strong>
					</a>
					<a href="#" class="fol-4" data-toggle="collapse" v-bind:data-target="'#method_responses_'+_uid" v-bind:aria-controls="'method_responses_'+_uid">
						<span class="text-muted small d-block">Responses</span>
						<strong class="font-weight-bolder">{{getObjCount(method.responses)}}</strong>
					</a>
				</div>
				<div class="fow form--row m-0 brd-t text-center field-tabs-btn">
					<a href="#" class="fol-4" data-toggle="collapse" v-bind:data-target="'#method_requestbodies_'+_uid" v-bind:aria-controls="'method_requestbodies_'+_uid" v-if="httpMethod != 'GET' && httpMethod != 'DELETE'">
						<span class="text-muted small d-block">RequestBody</span>
						<strong class="font-weight-bolder" v-if="method.requestBody">1</strong>
						<strong class="font-weight-bolder" v-if="!method.requestBody">0</strong>
					</a>
					<a href="#" class="fol-4 brd-l brd-r" data-toggle="collapse" v-bind:data-target="'#method_callbacks_'+_uid" v-bind:aria-controls="'method_callbacks_'+_uid">
						<span class="text-muted small d-block">Callbacks</span>
						<strong class="font-weight-bolder">{{getObjCount(method.callbacks)}}</strong>
					</a>
					<a href="#" class="fol-4" data-toggle="collapse" v-bind:data-target="'#method_links_'+_uid" v-bind:aria-controls="'method_links_'+_uid">
						<span class="text-muted small d-block">Links</span>
						<strong class="font-weight-bolder">{{getObjCount(method.links)}}</strong>
					</a>
				</div>
			</div>
			<ul class="field-controls" data-id="Main">
				<li v-bind:id="'method_main_'+_uid" class="collapse field-tabs">
					<h6 class="field-header row">Main</h6>
					<div class="field-acc">
						<div class="fow form-row">
							<div class="fol-8 form-group">
								<label>Method</label>
								<select class="form-control" v-model="httpMethod">
									<option value="GET">GET</option>
									<option value="POST">POST</option>
									<option value="PUT">PUT</option>
									<option value="DELETE">DELETE</option>
									<option value="HEAD">HEAD</option>
									<option value="PATCH">PATCH</option>
									<option value="OPTIONS">OPTIONS</option>
									<option value="TRACE">TRACE</option>
								</select>
							</div>
							<div class="fol-4 form-group text-right">
								<label class="d-block">Deprecated</label>
								<span class="switch switch-primary ml-auto">
								<input type="checkbox" v-model="method.deprecated" :id="'deprecated'+_uid">
								<label :for="'deprecated'+_uid"></label>
								</span>
							</div>
						</div>
						<div class="form-group">
							<label>OperationId</label>
							<input class="form-control" v-model.lazy="method.operationId">
						</div>
						<div class="form-group">
							<label>Summary</label>
							<input class="form-control" v-model.lazy="method.summary">
						</div>
						<div class="form-group">
							<label>Description</label>
							<a class="float-right" title="Preview markdown" v-on:click="markdownPreview()"><i class="fa fa-check-circle"></i></a>
							<textarea class="form-control" :id="descId" v-model.lazy="method.description"></textarea>
						</div>
						<div class="form-group">
							<label>Tags</label>
							<v-select label="name" multiple taggable :filterable="false" :options="mtags" v-model="vtags"></v-select>
						</div>
						<div class="form-group">
							<label>Docs Description</label>
							<textarea class="form-control" v-model.lazy="method.externalDocs.description"></textarea>
						</div>
						<div class="form-group">
							<label>Docs URL</label>
							<input type="url" class="form-control" v-model.lazy="method.externalDocs.url">
						</div>
					</div>
				</li>
			</ul>
			<ul class="field-controls" data-id="Parameter">
				<li v-bind:id="'method_parameters_'+_uid" class="collapse field-tabs">
					<h6 class="field-header">Parameters</h6>
					<div class="ficon-act ficon-act-link" v-if="method.parameters.length==0">
						<a class="w-100" v-on:click="addParameter()">Create Parameter <i class="fa fa-fw fa-plus"></i></a>
					</div>
					<api-parameter :parameter="parameter" :index="index" :openapi="openapi" v-for="(parameter,index) in method.parameters" :key="index"></api-parameter>
				</li>
			</ul>
			<ul class="field-controls" data-id="Responses">
				<li v-bind:id="'method_responses_'+_uid" class="collapse field-tabs pt-0">
					<h6 class="field-header">Responses</h6>
					<api-response v-for="(response, status, index) in method.responses" :openapi="openapi"
						:response="response" :key="status" :status="status" :method="method" :rindex="index"></api-response>
				</li>
			</ul>
			<ul class="field-controls" data-id="RequestBody">
				<li v-bind:id="'method_requestbodies_'+_uid" class="collapse field-tabs pt-0">
					<h6 class="field-header">Request Body</h6>
					<div class="ficon-act ficon-act-link" v-if="!method.requestBody">
						<a class="w-100" v-on:click="addRequestBody(method, true)">Create Request Body <i class="fa fa-fw fa-plus"></i></a>
					</div>
					<api-requestbody v-if="method.requestBody" :openapi="openapi" :response="method.requestBody" status="requestBody" :bindex="index" :method="method"></api-requestbody>
				</li>
			</ul>
			<ul class="field-controls" data-id="Security">
				<li v-bind:id="'method_security_'+_uid" class="collapse field-tabs pb-0">
					<h6 class="field-header">Security</h6>
					<div class="field-acc pb-0">
						<div class="form-group pt-1 mb-2">
							<!-- if (!openapi.security) openapi.security = []; -->
							<span class="radio radio-primary d-inline-block">
								<input :id="'chkDefault_'+_uid" class="radio" type="radio" value="default" v-model.lazy="secType"/>
								<label :for="'chkDefault_'+_uid">Use default security</label>
							</span>
							<span class="radio radio-primary d-inline-block">
								<input :id="'chkNone_'+_uid" class="radio" type="radio" value="none" v-model.lazy="secType"/>
								<label :for="'chkNone_'+_uid">Disable security</label>
							</span>
							<span class="radio radio-primary d-inline-block">
								<input :id="'chkCustom_'+_uid" class="radio" type="radio" value="custom" v-model.lazy="secType"/>
								<label :for="'chkCustom_'+_uid">Use custom security</label>
							</span>
						</div>
						<div v-if="secType === 'custom'" class="field-controls txt-black">
							<div class="pb-2"><strong>Selected security schemes</strong></div>
							<div class="field-link row" v-for="(scheme,index) in method.security">
								<span class="ficon-act ficon-act-abs">
									<a title="Remove security scheme from operation" v-on:click="removeSecScheme(index)"><i class="fa fa-trash-alt"></i></a>
								</span>
								<strong class="d-block">{{Object.keys(scheme)[0]}}</strong>
								<span>{{Object.values(scheme)[0]}}</span>
							</div>
						</div>
					</div>
				</li>
			</ul>
			<ul class="field-controls" data-id="Callbacks">
				<li v-bind:id="'method_callbacks_'+_uid" class="collapse field-tabs">
					<h6 class="field-header">Callbacks</h6>
					<div class="ficon-act ficon-act-link" v-if="!method.callbacks || Object.keys(method.callbacks).length == 0">
						<a class="w-100" v-on:click="addCallback()">Create Callback <i class="fa fa-fw fa-plus"></i></a>
					</div>
					<!-- todo callbacks -->
					<div v-for="(callback, cbname) in method.callbacks" v-if="method.callbacks && Object.keys(method.callbacks).length>0" class="position-relative">
						<div class="field-acc">
							<span class="ficon-act ficon-act-abs">
								<a title="Add callback" v-on:click="addCallback()"><i class="fa fa-fw fa-plus"></i></a>
								<a title="Duplicate callback" v-on:click="duplicateCallback(cbname)"><i class="fa fa-fw fa-copy"></i></a>
								<a title="Remove callback" v-on:click="removeCallback(cbname)"><i class="fa fa-fw fa-trash-alt"></i></a>
							</span>
							<div class="form-group">
								<label>Name</label>
								<input class="form-control" v-on:focus="storeCallbackName(cbname)" v-on:change="renameCallback(cbname)" v-model.lazy="cbname">
							</div>
						</div>
						<div class="ficon-act justify-content-end" v-if="Object.keys(callback).length==0">
							<a v-on:click="addCallbackURL(cbname)">Add URL Expression <i class="fa fa-fw fa-plus"></i> </a>
						</div>
						<div v-for="(expression, expname) in callback" class="position-relative">
							<div class="field-acc">
								<span class="ficon-act ficon-act-abs">
									<a title="Add expression" v-on:click="addCallbackURL(cbname)"><i class="fa fa-fw fa-plus"></i></a>
									<a title="Duplicate expression" v-on:click="duplicateExpression(cbname,expname)"><i class="fa fa-fw fa-copy"></i></a>
									<a title="Remove expession" v-on:click="removeExpression(cbname,expname)"><i class="fa fa-fw fa-trash-alt"></i></a>
								</span>
								<div class="form-group">
									<label>URL Expression</label>
									<input class="form-control" v-on:focus="storeExpressionName(expname)" v-on:change="renameExpression(cbname,expname)" v-model.lazy="expname">
								</div>
							</div>
							<div class="ficon-act justify-content-end" v-if="Object.keys(expression).length == 0">
								<a v-on:click="addExpressionOperation(expression)">Add Operation <i class="fa fa-fw fa-plus"></i></a>
							</div>
							<api-method :openapi="openapi" :method="method" :index="key" :maintags="maintags" v-for="(method,key,index) in expression" :key="index" :path="index"></api-method>
						</div>
					</div>
				</li>
			</ul>
			<ul class="field-controls" data-id="Links">
				<li v-bind:id="'method_links_'+_uid" class="collapse field-tabs">
					<!-- todo -->
					<h6 class="field-header">Links</h6>
					<div class="ficon-act ficon-act-link" v-if="!method.links || Object.keys(method.links).length == 0">
						<a class="w-100" v-on:click="addLink()">Create Link <i class="fa fa-fw fa-plus"></i></a>
					</div>
					<api-parameter :parameter="parameter" :index="index" :openapi="openapi" v-for="(parameter,index) in method.links" :key="index"></api-parameter>
				</li>
			</ul>
		</article>
	</div>
	<div id="template-parameter">
		<article class="field-controls">
			<div class="field-sum">
				<a href="#" class="field-link" data-toggle="collapse" title="Toggle parameter" :data-target="hashUid">
					<strong class="font-weight-black">{{parameter.name}}</strong>
				</a>
				<div class="ficon-actions dropdown dropdown-hover">
					<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
					<ul class="dropdown-menu dropdown-menu-right" role="menu">
						<li><a v-on:click="addParameter()"><i class="fa fa-fw fa-plus"></i> Add parameter</a></li>
						<li><a v-on:click="duplicateParameter(parameter)"><i class="fa fa-fw fa-copy"></i> Duplicate parameter</a></li>
						<li><a :title="schemaTooltip" v-on:click="mixEditSchema(parameter, 'schema', openapi)"><i class="fa fa-fw fa-edit"></i> {{schemaTooltip}}</a></li>
						<li><a v-on:click="removeParameter()"><i class="fa fa-fw fa-trash-alt"></i> Remove parameter</a></li>
					</ul>
				</div>
			</div>
			<div class="collapse field-controls" v-bind:id="_uid">
				<div class="field-acc">
					<div class="form-group">
						<label>Parameter Name</label>
						<input class="form-control" placeholder="Required" v-model.lazy="parameter.name" required>
					</div>
					<div class="form-group">
						<label>Description</label>
						<a class="float-right" title="Preview markdown" v-on:click="markdownPreview()"><i class="fa fa-check-circle"></i></a>
						<textarea v-model.lazy="parameter.description" :id="descId" class="form-control"></textarea>
					</div>
					<div class="form-group">
						<label>Location</label>
						<select class="form-control" v-model="effectiveIn" required>
							<option value="path">Path</option>
							<option value="query">Query</option>
							<option value="header">Header</option>
							<option value="cookie">Cookie</option>
						</select>
					</div>
					<div class="fow form-row">
						<div class="fol-3 form-group">
							<label>Required</label>
							<span class="switch switch-primary ml-auto">
								<input type="checkbox" :id="'paramRequired_'+_uid" v-model="effectiveRequired" :disabled="effectiveIn == 'path' ? true : false">
								<label :for="'paramRequired_'+_uid"></label>
							</span>
						</div>
						<div class="fol-6 form-group text-center" v-if="parameter.in == 'query'">
							<label>Allow Empty Value</label>
							<span class="switch switch-primary ml-auto">
								<input type="checkbox" :id="'paramEmpty_'+_uid" v-model="parameter.allowEmptyValue">
								<label :for="'paramEmpty_'+_uid"></label>
							</span>
						</div>
						<div class="fol-3 text-right form-group">
							<label>Deprecated</label>
							<span class="switch switch-primary ml-auto">
								<input type="checkbox" :id="'paramDeprecated_'+_uid" v-model="parameter.deprecated">
								<label :for="'paramDeprecated_'+_uid"></label>
							</span>
						</div>
					</div>
					<div class="form-group pt-0" v-if="!isComplex()">
						<label>Example</label>
						<input class="form-control" v-model.lazy="parameter.example">
					</div>
					<api-items :openapi="openapi" :child="parameter.schema" :name="'parameter'+_uid" :level="0"></api-items>
				</div>
			</div>
		</article>
	</div>
	<div id="template-requestbody">
		<div class="field-controls">
			<div class="field-sum">
				<a href="#" class="field-link" data-toggle="collapse" v-bind:data-target="'#components_requestBodies_'+requestName+'_'+bindex+'_'+_uid" v-bind:aria-controls="'components_requestBodies_'+requestName+'_'+bindex+'_'+_uid">
					<strong class="font-weight-bold">{{requestName}}</strong>
				</a>
				<div class="ficon-actions dropdown dropdown-hover">
					<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
					<ul class="dropdown-menu dropdown-menu-right" role="menu">
						<li><a title="Remove RequestBody" v-on:click="removeRequestBody(status)"><i class="fa fa-fw fa-trash-alt"></i> Remove RequestBody</a></li>
						<li><a href="#" title="Add request body" v-on:click="addRequestBody(method)"><i class="fas fa-lg fa-plus"></i> Add request body</a></li>
					</ul>
				</div>
			</div>
			<div v-bind:id="'components_requestBodies_'+requestName+'_'+bindex+'_'+_uid" class="collapse field-acc">
				<div class="form-group" v-if="!response.$ref">
					<label>Name</label>
					<input class="form-control" v-model.lazy="requestName">
				</div>
				<div class="form-group">
					<label v-on:click="openRef(response.$ref)">$ref: {{response.$ref}}</label>
					<select class="form-control" v-model="response.$ref" v-on:change="selectRefResponse($event.target.value, response)">
						<option value="None">None</option>
						<optgroup label="$Ref: requestBodies">
							<option v-for="(schema,key,index) in openapi.components.requestBodies" :value="'#/components/requestBodies/'+key">#/components/requestBodies/{{key}}</option>
						</optgroup>
					</select>
				</div>
				<div class="form-group" v-if="!response.$ref">
					<label>Description</label>
					<textarea class="form-control" v-model.lazy="response.description"></textarea>
				</div>
				<div class="form-group form-inline" v-if="!response.$ref">
					<label class="">Required</label>
					<span class="switch switch-primary ml-auto">
						<input type="checkbox" :id="'response'+_uid" v-model="response.required">
						<label :for="'response'+_uid"></label>
					</span>
				</div>
				<api-mediatype :openapi="openapi" v-for="(content, mediatype) in response.content" :content="content" :key="mediatype" :mediatype="mediatype" :container="response"></api-mediatype>
			</div>
		</div>
	</div>
	<div id="template-responses">
		<div class="field-controls">
			<div class="field-sum">
				<a href="#" class="field-link" data-toggle="collapse" v-bind:data-target="'#responses'+_uid" v-bind:aria-controls="'responses'+_uid">
					<strong class="font-weight-bold d-block">{{statusCode}}</strong>
					<small v-if="response.$ref">{{response.$ref}}</small>
				</a>
				<div class="ficon-actions dropdown dropdown-hover">
					<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
					<ul class="dropdown-menu dropdown-menu-right" role="menu">
						<li><a title="Add Response" v-on:click="addResponse(method)"><i class="fa fa-fw fa-plus"></i> Add Response</a></li>
						<li v-if="!response.$ref"><a title="Add Media-Type" v-on:click="addMediaType(response)"><i class="fa fa-fw fa-plus"></i> Add Media-Type</a></li>
						<li><a title="Remove Response" v-on:click="removeResponse()"><i class="fa fa-fw fa-trash-alt"></i> Remove Response</a></li>
					</ul>
				</div>
			</div>
			<div v-bind:id="'responses'+_uid" class="collapse field-acc">
				<div class="form-group">
					<label>Status Code</label>
					<input class="form-control" size="3" v-model.lazy="statusCode">
				</div>
				<div class="form-group">
					<label>$ref</label>
					<select class="form-control" v-model="response.$ref" v-on:change="selectRefResponse($event.target.value, response)">
						<option value="None">None</option>
						<optgroup label="$Ref: schemas">
							<option v-for="(schema,key,index) in openapi.components.schemas" :value="'#/components/schemas/'+key">#/components/schemas/{{key}}</option>
						</optgroup>
						<optgroup label="$Ref: responses">
							<option v-for="(schema,key,index) in openapi.components.responses" :value="'#/components/responses/'+key">#/components/responses/{{key}}</option>
						</optgroup>
						<optgroup label="$Ref: requestBodies">
							<option v-for="(schema,key,index) in openapi.components.requestBodies" :value="'#/components/requestBodies/'+key">#/components/requestBodies/{{key}}</option>
						</optgroup>
						<optgroup label="$Ref: securitySchemes">
							<option v-for="(schema,key,index) in openapi.components.securitySchemes" :value="'#/components/securitySchemes/'+key">#/components/securitySchemes/{{key}}</option>
						</optgroup>
					</select>
				</div>
				<div class="form-group" v-if="!response.$ref">
					<label>Description</label>
					<input class="form-control" placeholder="Required" v-model.lazy="response.description">
				</div>
				<api-mediatype :openapi="openapi" v-for="(content, mediatype) in response.content"
					:content="content" :key="mediatype" :mediatype="mediatype" :container="response"></api-mediatype>
			</div>
		</div>
	</div>
	<div id="template-items">
		<div class="field-acc pb-0 brd-0" :class="'field-l field-l-'+level">
			<span class="ficon-act ficon-act-abs" v-if="!child.$ref">
				<a v-on:click="addEnum()" title="Add Enum"><i class="">E</i> </a>
				<a v-on:click="addSchema('item_0'+level)" title="Create item" v-if="child.type == 'object'"><i class="fa fa-fw fa-plus"></i></a>
			</span>
			<div class="form-group">
				<label>Item Type</label>
				<select class="form-control" v-model="effectiveType">
					<optgroup label="Type">
						<option value="string">String</option>
						<option value="integer">Integer</option>
						<option value="number">Number</option>
						<option value="boolean">Boolean</option>
						<option value="array">Array</option>
						<option value="object">Object</option>
					</optgroup>
					<optgroup label="$Ref: schemas">
						<option v-for="(schema,key,index) in openapi.components.schemas" :value="'#/components/schemas/'+key">#/components/schemas/{{key}}</option>
					</optgroup>
					<optgroup label="$Ref: responses">
						<option v-for="(schema,key,index) in openapi.components.responses" :value="'#/components/responses/'+key">#/components/responses/{{key}}</option>
					</optgroup>
					<optgroup label="$Ref: requestBodies">
						<option v-for="(schema,key,index) in openapi.components.requestBodies" :value="'#/components/requestBodies/'+key">#/components/requestBodies/{{key}}</option>
					</optgroup>
					<optgroup label="$Ref: securitySchemes">
						<option v-for="(schema,key,index) in openapi.components.securitySchemes" :value="'#/components/securitySchemes/'+key">#/components/securitySchemes/{{key}}</option>
					</optgroup>
					<!-- <optgroup label="$Ref: headers">
					
					</optgroup>
					<optgroup label="$Ref: examples">
					
					</optgroup>
					<optgroup label="$Ref: parameters">
					
					</optgroup>
					<optgroup label="$Ref: links">
					
					</optgroup>
					<optgroup label="$Ref: callbacks">
					
					</optgroup> -->
				</select>
			</div>
			<div v-if="!child.$ref">
				<div v-for="(evalue,eindex) in child.enum" class="field-acc brd-t-0 p-0">
					<span class="ficon-act ficon-act-abs">
						<a title="Delete Enum" v-on:click="removeEnum(eindex)"><i class="fa fa-trash-alt"></i></a>
						<a title="Add Enum" v-on:click="addEnum()"><i class="fa fa-plus"></i></a>
					</span>
					<div class="form-group">
						<label>Enum Value</label>
						<input class="form-control" v-model.lazy="child.enum[eindex]">
					</div>
				</div>
				<!-- TODO replace this with style and explode etc -->
				<!-- <div class="form-group">
					<label>Collection Delimiter</label>
					<select class="form-control" v-model="parent.collectionFormat" required size="2">
						<option value="csv">Comma</option>
						<option value="tsv">Tab</option>
						<option value="ssv">Space</option>
						<option value="pipes">Pipe</option>
						<option value="multi" v-if="level==1">Multiple</option>
					</select>
				</div>
				-->
				<div class="form-group" v-if="effectiveFormats.length">
					<label>Format</label>
					<select class="form-control" v-model="child.format">
						<option v-for="option in effectiveFormats">{{option}}</option>
					</select>
				</div>
				<div class="form-group" v-if="child.type == 'integer' || child.type == 'number' || child.type == 'string'">
					<label>Default Value</label>
					<input class="form-control" v-model.lazy="child.default">
				</div>
				<!-- parent > child -->
				<div class="fow form-row" v-if="child.type == 'integer' || child.type == 'number' || child.type == 'string'">
					<div class="fol-6 form-group">
						<label>Min. Items</label>
						<input class="form-control" type="number" min="0" step="1" v-model.number="child.minItems">
					</div>
					<div class="fol-6 form-group">
						<label>Max. Items</label>
						<input class="form-control" type="number" min="0" step="1" v-model.number="child.maxItems">
					</div>
				</div>
				<div class="fow form-row">
					<div class="fol-6 form-group">
						<label class="d-block">Read Only</label>
						<span class="switch switch-primary ml-auto">
							<input type="checkbox" :id="'readOnly_'+_uid+level" v-model="child.readOnly">
							<label :for="'readOnly_'+_uid+level"></label>
						</span>
					</div>
					<div class="fol-6 text-right form-group" v-if="child.type == 'integer' || child.type == 'number' || child.type == 'string'">
						<label class="d-block">Unique Items</label>
						<span class="switch switch-primary ml-auto">
							<input type="checkbox" :id="'uniqueItems_'+_uid+level" v-model="child.uniqueItems">
							<label :for="'uniqueItems_'+_uid+level"></label>
						</span>
					</div>
				</div>
				<div v-if="child.type == 'string'">
					<div class="fow form-row">
						<div class="fol-6 form-group">
							<label>Min. Length</label>
							<input class="form-control" type="number" min="0" step="1" v-model.number="child.minLength">
						</div>
						<div class="fol-6 form-group">
							<label>Max. Length</label>
							<input class="form-control" type="number" min="0" step="1" v-model.number="child.maxLength">
						</div>
					</div>
					<div class="form-group">
						<label>Pattern</label>
						<input class="form-control" v-model.lazy="child.pattern">
					</div>
				</div>
				<div v-if="child.type == 'integer' || child.type == 'number'">
					<div class="fow form-row">
						<div class="fol-6 form-group">
							<label>Min. Exclusive</label>
							<span class="switch switch-primary ml-auto">
								<input type="checkbox" :id="'childMinExc'+_uid+level" v-model="child.exclusiveMinimum">
								<label :for="'childMinExc'+_uid+level"></label>
							</span>
						</div>
						<div class="fol-6 form-group">
							<label>Max. Exclusive</label>
							<span class="switch switch-primary ml-auto">
								<input class="form-control" type="checkbox" :id="'childMaxExc'+_uid+level" v-model="child.exclusiveMaximum">
								<label :for="'childMaxExc'+_uid+level"></label>
							</span>
						</div>
					</div>
					<div class="fow form-row">
						<div class="fol-4 form-group">
							<label>Minimum</label>
							<input class="form-control" type="number" v-model.number="child.minimum">
						</div>
						<div class="fol-4 form-group">
							<label>Maximum</label>
							<input class="form-control" type="number" v-model.number="child.maximum">
						</div>
						<div class="fol-4 form-group">
							<label>Multiple Of</label>
							<input class="form-control" type="number" v-model.number="child.multipleOf">
						</div>
					</div>
				</div>
				<api-items v-if="child.type == 'array'" :openapi="openapi" :child="child.items" :name="name+'array'" :level="levelPlusOne"></api-items>
				<div class="mt-3 brd-l brd-r brd-b" v-if="child.properties">
					<div v-for="(prp,key,prpindex) in child.properties" :key="prpindex" class="field-controls field-color-grey field-level-2">
						<div class="field-sum">
							<a href="#" class="field-link" data-toggle="collapse" v-bind:data-target="'#'+name+'_item'+level+prpindex" v-bind:aria-controls="name+'_item'+level+prpindex">
								<span>{{key}}</span>
							</a>
							<div class="ficon-actions dropdown dropdown-hover">
								<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
								<ul class="dropdown-menu dropdown-menu-right" role="menu">
									<li><a v-on:click="mixEditSchema(child.properties, key, openapi)"><i class="fa fa-fw fa-edit"></i> Edit shared item</a></li>
									<li><a v-on:click="addSchema('item_'+level)"><i class="fa fa-fw fa-plus"></i> Create item</a></li>
									<li><a v-on:click="duplicateSchema(key)"><i class="fa fa-fw fa-copy"></i> Duplicate item</a></li>
									<li><a v-on:click="removeSchema(key)"><i class="fa fa-fw fa-trash-alt"></i> Remove item</a></li>
								</ul>
							</div>
						</div>
						<div v-bind:id="name+'_item'+level+prpindex" class="collapse field-tabs">
							<div class="field-acc">
								<div class="form-group">
									<label>Item Name</label>
									<input class="form-control" placeholder="Required" v-on:focus="storeSchemaName(key)" v-on:change="renameSchema(key)" v-model.lazy="key">
								</div>
							</div>
							<div class="field-acc">
								<api-items :openapi="openapi" :child="child.properties[key]" :name="name+'_item'+level+prpindex" :level="levelPlusOne"></api-items>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="template-mediatype">
		<div class="position-relative">
			<div class="ficon-actions dropdown dropdown-hover">
				<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
				<ul class="dropdown-menu dropdown-menu-right" role="menu">
					<li><a title="Add media-type" v-on:click="addMediaType(container)"><i class="fa fa-fw fa-plus"></i> Add media-type</a></li>
					<li><a title="Duplicate media-type" v-on:click="duplicateMediaType()"><i class="fa fa-fw fa-copy"></i> Duplicate media-type</a></li>
					<li><a :title="schemaTooltip" v-on:click="mixEditSchema(container.content[mediatype], 'schema', openapi)"><i class="fa fa-fw fa-edit"></i> {{schemaTooltip}}</a></li>
					<li><a title="Remove media-type" v-on:click="removeMediaType()"><i class="fa fa-fw fa-trash-alt"></i> Remove media-type</a></li>
				</ul>
			</div>
			<div class="form-group">
				<label>Media-Type</label>
				<input class="form-control" placeholder="Required" v-model.lazy="mediaTypeName">
			</div>
			<api-items v-if="mediatype" :openapi="openapi" :child="content.schema" :name="_uid+'responses'" :level="0"></api-items>
		</div>
	</div>
	<div id="template-list">
		<li>
		<div class="nav-actions dropdown dropdown-hover">
			<button type="button"><i class="fas fa-ellipsis-h"></i></button>
			<ul class="dropdown-menu dropdown-menu-right" role="menu" data-dropdown-in="slideInRight" data-dropdown-out="slideOutRight">
				<li><a href="#" v-on:click="$parent.selectApi(api, 'edit')"><i class="fas fa-edit"></i>Edit</a></li>
				<li v-if="!api.isproxyapi"><a href="#" v-on:click="$parent.createProxy(api, 'preview')"><i class="fas fa-code-branch"></i>Create Proxy</a></li>
				<li><a href="#" v-on:click="$parent.selectApi(api, 'preview')"><i class="fas fa-file-alt"></i>Preview</a></li>
				<li class="dropdown-header">ENVIRONMENT</li>
				<li v-bind:class="{'active': api.islive}"><a href="#" v-on:click="$parent.apiChangeEnvironment(api, 'islive')"><i class="fas fa-eye"></i>Live</a></li>
				<li v-bind:class="{'active': api.issandbox}"><a href="#" v-on:click="$parent.apiChangeEnvironment(api, 'issandbox')"><i class="fas fa-eye"></i>Sandbox</a></li>
				<li class="dropdown-header">VERSION</li>
				<li v-bind:class="{'active': api.isdefaultversion}"><a href="#" v-on:click="$parent.apiChangeVersion(api, 'isdefaultversion')"><i class="fas fa-eye"></i>Default</a></li>
				<li v-bind:class="{'active': api.islatestversion}"><a href="#" v-on:click="$parent.apiChangeVersion(api, 'islatestversion')"><i class="fas fa-eye"></i>Latest</a></li>
				<li class="dropdown-header">VISIBILITY</li>
				<li role="separator" class="divider"></li>
				<li v-bind:class="{'active': activeVisibility == 'Public'}"><a href="#" v-on:click="$parent.apiChangeVisibility(api, 'Public')"><i class="fas fa-eye"></i>Public</a></li>
				<li v-bind:class="{'active': activeVisibility == 'Private'}"><a href="#" v-on:click="$parent.apiChangeVisibility(api, 'Private')"><i class="fas fa-user-secret"></i>Private</a></li>
				<li v-bind:class="{'active': activeVisibility == 'Closed-Group'}"><a href="#" v-on:click="$parent.apiChangeVisibility(api, 'Closed-Group')"><i class="fas fa-user"></i>Closed-Group</a></li>
				<li class="dropdown-header">CHANGE STATE</li>
				<li role="separator" class="divider"></li>
				<li v-bind:class="{'active': activeState == 'Draft'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Draft')"><i class="fas fa-circle stat-Draft"></i>Draft</a></li>
				<li v-bind:class="{'active': activeState == 'Staged'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Staged')"><i class="fas fa-circle stat-Staged"></i>Stage</a></li>
				<li v-bind:class="{'active': activeState == 'Published'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Published')"><i class="fas fa-circle stat-Published"></i>Publish</a></li>
				<li v-bind:class="{'active': activeState == 'Promoted'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Promoted')"><i class="fas fa-circle stat-Promoted"></i>Promote</a></li>
				<li v-bind:class="{'active': activeState == 'Demoted'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Demoted')"><i class="fas fa-circle stat-Demoted"></i>Demote</a></li>
				<li v-bind:class="{'active': activeState == 'Retired'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Retired')"><i class="fas fa-circle stat-Retired"></i>Retire</a></li>
				<li v-bind:class="{'active': activeState == 'Removed'}"><a href="#" v-on:click="$parent.apiChangeState(api, 'Removed')"><i class="fas fa-trash-alt"></i>Delete</a></li> </ul>
		</div>
		<a href="#" data-toggle="collapse" v-bind:data-target="'#api'+api.uuid" v-bind:aria-controls="'api'+api.uuid" v-bind:class="{'active': $parent.isSelectedApi(api.uuid)}">
			<div class="">
				<i v-bind:title="apiGetStateName(api.apistateid)" class="fas fa-circle" v-bind:class="'stat-' + apiGetStateName(api.apistateid)"></i>
				<strong>{{api.openapidocument.info.title}}</strong> <small class="text-muted">{{api.openapidocument.info.version}} {{apiDefaultVersion}} {{apiLatestVersion}}</small>
			</div>
			<span v-if="!api.isproxyapi">
				<small>Proxies: <strong v-if="api.proxies">{{api.proxies.length}}</strong></small>
			</span>
			<span v-if="api.isproxyapi">
				<small>Business API: <strong>{{businessapi}}</strong></small>
			</span>
			<small class="text-muted float-right">{{api.created | formatDate}}</small>
			<code class="d-block small" :style="{ 'color': api.color }"><small>{{api.uuid}}</small></code>
		</a>
		<ul v-bind:id="'api'+api.uuid" class="collapse clearfix">
			<li>
				<div class="px-3 txt-dark brd-t">
					<div class="small pt-2">
						<p>
							<strong class="d-block text-uppercase">Servers</strong> 
							<span class="d-block text-truncate" v-for="(sv, index) in api.openapidocument.servers" v-bind:title="sv.url">{{sv.url}}</span>
						</p>
						<div class="fow form-row">
							<p class="fol-6"><strong class="d-block text-uppercase">Visibility</strong><span class="text-capitalize">{{apiGetVisibilityName(api.apivisibilityid)}}</span></p>
							<p class="fol-6"><strong class="d-block text-uppercase">State</strong><span class="text-capitalize">{{apiGetStateName(api.apistateid)}}</span></p>
						</div>
						<div class="fow form-row">
							<p class="fol-6"><strong class="d-block text-uppercase">Security</strong> {{numSecuritySchemes}}</p>
							<p class="fol-6"><strong class="d-block text-uppercase">Environment</strong> {{apiEnvironment}}</p>
						</div>
						<div class="fow form-row">
							<p class="fol-12" v-if="api.openapidocument.info.license"><strong class="d-block text-uppercase">License</strong>{{api.openapidocument.info.license.name}}</p>
							<p class="fol-12"><strong class="d-block text-uppercase">Categories</strong>{{compCategoriesToList}}</p>
							<p class="fol-12"><strong class="d-block text-uppercase">Groups</strong>{{compGroupsToList}}</p>
							<p class="fol-12"><strong class="d-block text-uppercase">Tags</strong>{{compTagsToList}}</p>
							<p class="fol-12"><small class="d-block">{{api.openapidocument.info.description}}</small></p>
						</div>
					</div>
					<ul class="row nav flex-column nav-controls mt-2" v-if="api.proxies.length > 0">
						<li class="field-link small">
							<strong class="d-block text-uppercase">PROXIES</strong>
						</li>
						<li class="field-link" v-for="(proxy, index) in api.proxies" v-if="api.proxies.length > 0">
							<div class="nav-actions dropdown dropdown-hover">
								<button type="button" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fas fa-ellipsis-h"></i></button>
								<ul class="dropdown-menu dropdown-menu-right" role="menu" data-dropdown-in="slideInRight" data-dropdown-out="slideOutRight">
									<li><a href="#" v-on:click="$parent.selectApi(proxy, 'edit')"><i class="fas fa-edit"></i>Edit</a></li>
									<li><a href="#"><i class="fas fa-trash-alt"></i>Delete</a></li>
									<li><a href="$parent.selectApi(proxy, 'preview')"><i class="fas fa-file-alt"></i>Preview</a></li>
								</ul>
							</div>
							{{proxy.openapidocument.info.title}}
						</li>
					</ul>
				</div>
			</li>
		</ul>
		</li>
	</div>
</div>

<div id="schemaModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="schemaModal" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" onclick="schemaEditorClose()" aria-hidden="true">×</button>
				<h5 class="modal-title" id="schemaModalTitle">Schema Editor</h5>
			</div>
			<div class="modal-body p-0">
				<div id="schemaContainer"></div>
			</div>
			<div class="modal-footer d-flex justify-content-between">
				<button type="button" class="btn btn-secondary btn-rounded" onclick="schemaEditorClose()">Close</button>
				<button type="button" class="btn btn-primary btn-rounded" onclick="schemaEditorSave()">Save Changes</button>
			</div>
		</div>
	</div>
</div>
<div id="mdPreview" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mdPreview" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h5 class="modal-title">Markdown Preview</h5>
			</div>
			<div class="modal-body p-3">
				<span id="mdPreviewText"></span>
			</div>
		</div>
	</div>
</div>
<div id="alert" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="alert" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-body p-6">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<span id="alertText"></span>
			</div>
		</div>
	</div>
</div>
<div id="confirm" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="confirm" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
				<h5 class="modal-title" id="confirmTitle">Alert</h5>
			</div>
			<div class="modal-body p-6">
				<span id="confirmSubtitle"></span>
			</div>
			<div class="modal-footer d-flex justify-content-between">
				<a data-dismiss="modal"><span class="btn btn-secondary btn-rounded">Cancel</span></a>
				<a data-dismiss="modal" id="confirmOk"><span class="btn btn-primary btn-rounded">Confirm</span></a>
			</div>
		</div>
	</div>
</div>
<script src="/dist/js/plugins/clipboard.min.js"></script>
<script src="/dist/js/plugins/highlight.pack.js"></script>
<script src="/dist/js/plugins/openapi/js-yaml.min.js"></script>
<script src="/dist/js/plugins/openapi/jsonpatch.js"></script>
<script src="/dist/js/plugins/openapi/jsoneditor.min.js"></script>
<script src="/dist/js/plugins/openapi/markdown-it.min.js"></script>
<script src="/dist/js/swagger/swagger-editor-bundle.js"> </script>
<script id="reqVue" data-module="openapi" data-main="/dist/js/main" src="/dist/js/lib/require.min.js"></script>
</body>
</html>

